{{!< default}}

{{#get "pages" filter="slug:home" as |page|}}
    {{#if page}}
        {{#foreach page}}
        <article class="gh-article {{post_class}} py-[8vmin]">
            {{> "page-header"}}
            {{> "page-content"}}
        </article>
        {{/foreach}}
    {{else}}
        <article class="gh-article py-[2vmin] min-h-full flex-grow flex flex-col justify-center">

            <header class="gh-header gh-canvas grid grid-cols-canvas pb-[7vmin] sm:pb-[4vmin]">
                {{#if @site.icon}}
                    <img class="w-full max-w-22 justify-self-center mb-[3vmin]" src="{{@site.icon}}" />
                {{/if}}

                <h1 class="gh-title text-2xl sm:text-3xl md:text-4xl text-center">{{@site.title}}</h1>

                {{#if @site.description}}
                    <p class="gh-excerpt !text-base mt-[7vmin] md:!text-lg sm:mt-[4vmin] text-center tracking-tight md:!leading-tight">{{@site.description}}</p>
                {{/if}}
            </header>
            <div class="gh-content gh-canvas grid grid-cols-canvas">
                <form data-members-form class="flex flex-col gap-2 items-center w-full">
                    <div class="relative flex flex-col gap-2 sm:flex-row items-center w-full max-w-[360px] sm:max-w-[540px] before:absolute before:content-[''] before:border before:inset-0 before:z-90 before:h-12 before:bg-white before:rounded-full">
                        <input data-members-email type="email" required="true" class="text-center text-black bg-transparent w-full text-base flex-grow outline-none font-[350] z-10 flex items-center h-11 sm:text-left sm:h-12 px-4 sm:px-6 mt-0.5 sm:mt-0 rounded-2xl" placeholder="Enter your email for updates">
                        <button type="submit" class="bg-[var(--color-primary)] z-10 px-4 hover:opacity-70 transition-all flex items-center justify-center rounded-full w-full h-11 sm:h-12 text-base sm:w-auto sm:px-7">
                            <span class="block text-white">Subscribe</span>
                        </button>
                    </div>
                    <div class="h-[1em] py-3">
                        <p class="loading animate-pulse">Sending confirmation email.</p>
                        <p class="error">Something's gone wrong. Please try again.</p>
                        <p class="success">Check your inbox to finish signing up.</p>
                    </div>
                </form>
            </div>
        </article>
    {{/if}}
{{/get}}